<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Home | The Bible Channel</title>

    <!-- External CSS and libraries -->
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <link rel="icon" href="favicon.svg" type="image/svg+xml" />
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Lato:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="index.css" />
  </head>

  <body>
    <!-- Top Navigation Menu -->
    <h1>The Bible Channel</h1>
    <div class="topnav" id="topnav">
      <a href="index.html"> <i class="fa fa-fw fa-home"></i> Home</a>
      <a href="admin.html"> <i class="fa fa-fw fa-user"></i> Admins</a>
      <a href="devlog.html"> <i class="fa fa-fw fa-code"></i> Devlog</a>
      <a href="javascript:void(0);" onclick="toggleDarkMode()">
        <i class="fa fa-moon-o"></i>
        Theme
      </a>
      <a href="javascript:void(0);" class="icon" onclick="toggleMenu()">
        <i class="fa fa-bars"></i>
      </a>
    </div>

    <main>
      <!-- Section: The Bible Channel -->
      <section id="bible-channel" class="tbc-section w3-container">
        <div class="tbc-text">
          <h2>The Bible Channel</h2>
          <p>
            Join The Bible Channel on WhatsApp for daily devotionals, prayers,
            scripture reflections, and inspiring messages. Stay connected with
            God's Word and strengthen your faith.
          </p>
          <a
            href="https://whatsapp.com/channel/0029VaHkSUX2P59srKXDBa0H"
            class="button w3-button w3-hover-shadow w3-card w3-round"
          >
            <i class="fab fa-whatsapp"></i> Join The Channel
          </a>
        </div>
      </section>

      <!-- Section: The Bible Community -->
      <section
        id="bible-community"
        class="tbcom-section w3-container"
        style="padding-top: 10%"
      >
        <h2>Connect, Grow, and Inspire with The Bible Community</h2>
        <p>
          Become part of The Bible Community, a place for Christians to connect,
          share, and grow together. Engage in conversations, celebrate
          milestones, and contribute your own faith-inspired content in a
          supportive, like-minded space. Join our community and take an active
          role in spreading the message of Godâ€™s love.
        </p>
        <a
          href="https://chat.whatsapp.com/EiwtC7HR60r6uGMMd8E85j"
          class="button-backgroundless"
        >
          <i class="fab fa-whatsapp"></i> Join Our Community
        </a>
      </section>

      <hr />

      <!-- Section: Join Our Administration Team -->
      <section id="admin" class="adm-section w3-container">
        <div class="adm-text">
          <h2>Want To Contribute?</h2>
          <p>
            Are you eager to make a meaningful impact in our community? Explore
            how you can become an integral part of our administration team and
            play a key role in guiding our shared journey.
          </p>
          <a
            href="admin.html"
            class="button w3-button w3-hover-shadow w3-card w3-round"
          >
            <i class="fas fa-arrow-right"></i> Find Out More
          </a>
        </div>
      </section>

      <hr />

      <!-- Section: Channel Statistics -->
      <section id="stats" class="w3-container">
        <div
          class="w3-card w3-round"
          style="padding-bottom: 16px; padding-top: 16px"
        >
          <h2 style="text-align: center">Channel Statistics</h2>
          <div id="scatterPlot" style="width: 100%; height: 400px"></div>
          <h2 style="text-align: center">Growth Rate</h2>
          <div style="text-align: center">
            <p>
              Growth Rate (%) = (Average Daily Growth / Initial Value) * 100
            </p>
            <div id="growth-rate"></div>
            <div id="avg-daily-growth"></div>
            <div id="avg-growth-acceleration"></div>
          </div>
        </div>
      </section>

      <hr />
    </main>

    <!-- Plotly script to generate scatter plot -->
    <script>
      // Define data for scatter plot
      var trace1 = {
        x: [
          0, 1000, 2200, 3900, 4600, 5300, 5400, 5500, 5600, 5700, 5800, 5900,
          6000, 6100, 6200, 6300, 6400, 6500, 6600, 6700, 6800, 6900, 7000,
        ],
        y: [
          0, 30, 60, 90, 120, 172, 175, 177, 179, 181, 182, 183, 186, 189, 190,
          193, 195, 197, 198, 200, 203, 205, 207,
        ],
        mode: "lines",
        line: { color: "#008080" },
        type: "scatter",
        fill: "tozeroy",
      };

      // Define layout for scatter plot
      var layout = {
        title: "The Bible Channel Member Count",
        xaxis: { title: "Member Count" },
        yaxis: { title: "Days" },
        paper_bgcolor: "#e8e8e8",
        plot_bgcolor: "#e8e8e8",
        font: { color: "#008080" },
      };

      // Generate scatter plot using Plotly
      Plotly.newPlot("scatterPlot", [trace1], layout, {
        displayModeBar: false,
        staticPlot: true,
        responsive: true,
      });

      const dailyGrowth = [];
      for (let i = 1; i < trace1.y.length; i++) {
        dailyGrowth.push(trace1.y[i] - trace1.y[i - 1]);
      }
      const avgDailyGrowth =
        dailyGrowth.reduce((a, b) => a + b, 0) / dailyGrowth.length;
      const totalMemberCount = trace1.y[trace1.y.length - 1];
      const growthRate = (avgDailyGrowth / totalMemberCount) * 100;

      // Calculate growth acceleration (rate of change of growth rate)
      const growthAccelerations = [];
      for (let i = 1; i < dailyGrowth.length; i++) {
        growthAccelerations.push(
          (dailyGrowth[i] - dailyGrowth[i - 1]) / dailyGrowth[i - 1]
        );
      }
      const avgGrowthAcceleration =
        growthAccelerations.reduce((a, b) => a + b, 0) /
        growthAccelerations.length;

      document.getElementById(
        "growth-rate"
      ).innerHTML = `Growth Rate: ${growthRate.toFixed(2)}%`;
      document.getElementById(
        "avg-daily-growth"
      ).innerHTML = `Average Daily Growth: ${avgDailyGrowth.toFixed(2)}`;
      document.getElementById(
        "avg-growth-acceleration"
      ).innerHTML = `Average Growth Acceleration: ${(
        avgGrowthAcceleration * 100
      ).toFixed(2)}%`;
    </script>

    <!-- Script to toggle top navigation menu -->
    <script>
      function toggleMenu() {
        var x = document.getElementById("topnav");
        if (x.className === "topnav") {
          x.className += " responsive";
        } else {
          x.className = "topnav";
        }
      }
    </script>

    <!-- Script to toggle dark mode -->
    <script>
      function toggleDarkMode() {
        document.body.classList.toggle("dark-mode");
        localStorage.setItem(
          "darkMode",
          document.body.classList.contains("dark-mode")
        );
      }

      // Add this script to each page
      document.addEventListener("DOMContentLoaded", function () {
        if (localStorage.getItem("darkMode") === "true") {
          document.body.classList.add("dark-mode");
        }
      });
    </script>
  </body>

  <!-- Footer -->
  <footer class="w3-container">
    <p style="text-align: center; margin: 10px 0">
      &copy; 2024 The Bible Channel. All rights reserved.
    </p>
  </footer>
</html>
